<template>
    <div class="slds-card">
        <div class="slds-card__header slds-grid slds-grid_align-spread">
            <h2 class="slds-text-heading_medium">{aircraftModel} Seating Layout</h2>
            <button class={heatMapButtonClass} onclick={toggleHeatMap}>
                <lightning-icon icon-name="utility:chart" size="x-small" class="slds-m-right_x-small"></lightning-icon>
                Heat Map
            </button>
        </div>
        
        <div class="slds-card__body">
            <div class="aircraft-container">
                <!-- Aircraft Nose -->
                <div class="aircraft-nose"></div>
                
                <!-- Cabin Container -->
                <div class="cabin-container">
                    <!-- Cockpit Door -->
                    <div class="cockpit-door">
                        <div class="door-handle"></div>
                    </div>
                    
                    <!-- Business Class Section -->
                    <div class="cabin-section business-class-section" 
                         onseatclick={handleSeatClick}
                         onseathover={handleSeatHover}
                         onseatleave={handleSeatLeave}>
                        <div class="section-label">BUSINESS CLASS</div>
                        <template for:each={businessClassRows} for:item="row">
                            <c-boeing-seat-row 
                                key={row.rowNumber}
                                row={row}
                                show-heat-map={showHeatMap}
                                seat-class="business">
                            </c-boeing-seat-row>
                        </template>
                    </div>
                    
                    <!-- Divider between Business and Economy Plus -->
                    <div class="cabin-divider">
                        <div class="galley">GALLEY</div>
                        <div class="lavatory left">LAV</div>
                        <div class="lavatory right">LAV</div>
                    </div>
                    
                    <!-- Economy Plus Section -->
                    <div class="cabin-section economy-plus-section"
                         onseatclick={handleSeatClick}
                         onseathover={handleSeatHover}
                         onseatleave={handleSeatLeave}>
                        <div class="section-label">ECONOMY PLUS</div>
                        <template for:each={economyPlusRows} for:item="row">
                            <c-boeing-seat-row 
                                key={row.rowNumber}
                                row={row}
                                show-heat-map={showHeatMap}
                                seat-class="economy-plus">
                            </c-boeing-seat-row>
                        </template>
                    </div>
                    
                    <!-- Economy Class Section -->
                    <div class="cabin-section economy-section"
                         onseatclick={handleSeatClick}
                         onseathover={handleSeatHover}
                         onseatleave={handleSeatLeave}>
                        <div class="section-label">ECONOMY CLASS</div>
                        <template for:each={economyClassRows} for:item="row">
                            <c-boeing-seat-row 
                                key={row.rowNumber}
                                row={row}
                                show-heat-map={showHeatMap}
                                seat-class="economy">
                            </c-boeing-seat-row>
                        </template>
                    </div>
                    
                    <!-- Rear Galley -->
                    <div class="cabin-divider rear">
                        <div class="galley">REAR GALLEY</div>
                        <div class="lavatory left">LAV</div>
                        <div class="lavatory right">LAV</div>
                    </div>
                </div>
                
                <!-- Aircraft Tail -->
                <div class="aircraft-tail"></div>
            </div>
            
            <!-- Legend and Info Panel -->
            <div class="info-panel">
                <c-boeing-seat-legend 
                    show-heat-map={showHeatMap}>
                </c-boeing-seat-legend>
                
                <c-boeing-seat-info
                    selected-seats={selectedSeats}
                    hovered-seat={hoveredSeat}>
                </c-boeing-seat-info>
            </div>
        </div>
    </div>
</template>